{% extends "base.html" %}

{% block content %}
<div class="form-page">
    <div class="page-header">
        <h2><i class="fas fa-edit"></i> Modifier le Matériel</h2>
        <a href="{{ url_for('materials') }}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Retour
        </a>
    </div>

    <div class="form-container">
        <form method="POST" class="material-form">
            <div class="form-grid">
                <div class="form-group">
                    <label for="name">Nom du Matériel *</label>
                    <input type="text" id="name" name="name" value="{{ material.name }}" required>
                </div>

                <div class="form-group">
                    <label for="category">Catégorie *</label>
                    <select id="category" name="category" required>
                        <option value="">Sélectionner une catégorie</option>
                        {% for category in categories %}
                        <option value="{{ category.name }}" {% if category.name == material.category %}selected{% endif %}>
                            {{ category.name }}
                        </option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="brand">Marque</label>
                    <input type="text" id="brand" name="brand" value="{{ material.brand or '' }}">
                </div>

                <div class="form-group">
                    <label for="model">Modèle</label>
                    <input type="text" id="model" name="model" value="{{ material.model or '' }}">
                </div>

                <div class="form-group">
                    <label for="price">Prix (€) *</label>
                    <input type="number" id="price" name="price" step="0.01" min="0" value="{{ material.price }}" required>
                </div>

                <div class="form-group">
                    <label for="quantity">Quantité en Stock *</label>
                    <input type="number" id="quantity" name="quantity" min="0" value="{{ material.quantity }}" required>
                </div>

                <div class="form-group">
                    <label for="min_stock">Stock Minimum *</label>
                    <input type="number" id="min_stock" name="min_stock" min="0" value="{{ material.min_stock }}" required>
                </div>

                <div class="form-group">
                    <label for="supplier">Fournisseur</label>
                    <input type="text" id="supplier" name="supplier" value="{{ material.supplier or '' }}">
                </div>
            </div>

            <div class="form-group full-width">
                <label for="description">Description</label>
                <textarea id="description" name="description" rows="4" placeholder="Description détaillée du matériel...">{{ material.description or '' }}</textarea>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i> Mettre à Jour
                </button>
                <a href="{{ url_for('materials') }}" class="btn btn-secondary">
                    <i class="fas fa-times"></i> Annuler
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
